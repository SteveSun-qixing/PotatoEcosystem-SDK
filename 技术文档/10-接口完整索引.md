# 接口完整索引

本文档提供 Chips SDK 所有接口定义的完整索引。

## 目录

1. [核心接口](#1-核心接口)
2. [API 接口](#2-api-接口)
3. [引擎接口](#3-引擎接口)
4. [数据模型接口](#4-数据模型接口)
5. [配置接口](#5-配置接口)
6. [回调接口](#6-回调接口)

---

## 1. 核心接口

### 1.1 IChipsSDK

**路径**: `src/interfaces/IChipsSDK.ts`

```typescript
interface IChipsSDK {
  loadCard(path: string | File, options?: LoadOptions): Promise<Card>;
  saveCard(card: Card, path: string, options?: SaveOptions): Promise<void>;
  renderCard(card: Card | string, container: string | HTMLElement, options?: RenderOptions): Promise<void>;
  createEditor(container: HTMLElement, options?: EditorOptions): IEditor;
  use(plugin: Plugin | Plugin[]): void;
  on(event: string, handler: EventHandler): void;
}
```

---

### 1.2 IEditor

**路径**: `src/interfaces/IEditor.ts`

```typescript
interface IEditor {
  getContent(): Card;
  setContent(card: Card): void;
  insert(content: Content): void;
  delete(): void;
  undo(): void;
  redo(): void;
  on(event: string, handler: Function): void;
  dispose(): void;
}
```

---

## 2. API 接口

### 2.1 IFileAPI

**路径**: `src/interfaces/IFileAPI.ts`

```typescript
interface IFileAPI {
  loadCard(path: string, options?: LoadOptions): Promise<Card>;
  saveCard(card: Card, path: string, options?: SaveOptions): Promise<void>;
  loadBox(directory: string): Promise<Box>;
}
```

---

### 2.2 IRendererAPI

**路径**: `src/interfaces/IRendererAPI.ts`

```typescript
interface IRendererAPI {
  renderCard(card: Card, container: HTMLElement, options?: RenderOptions): Promise<RenderResult>;
  renderBox(box: Box, container: HTMLElement, options?: BoxRenderOptions): Promise<BoxRenderResult>;
  updateCard(cardId: string, updates: Partial<Card>): void;
  disposeCard(cardId: string): void;
}
```

---

## 3. 引擎接口

### 3.1 IParserEngine

**路径**: `src/interfaces/IParserEngine.ts`

```typescript
interface IParserEngine {
  parseCard(data: ArrayBuffer): Card;
  serializeCard(card: Card): ArrayBuffer;
  validate(card: Card): ValidationResult;
}
```

---

### 3.2 IRendererEngine

**路径**: `src/interfaces/IRendererEngine.ts`

```typescript
interface IRendererEngine {
  render(card: Card, container: HTMLElement, options: RenderOptions): Promise<RenderResult>;
}
```

---

## 4. 数据模型接口

### 4.1 Card

**路径**: `src/interfaces/Card.ts`

```typescript
interface Card {
  id: string;
  type: CardType;
  version: string;
  metadata: CardMetadata;
  content: any;
  children?: Card[];
}
```

---

### 4.2 CardMetadata

**路径**: `src/interfaces/CardMetadata.ts`

```typescript
interface CardMetadata {
  createdAt?: number;
  updatedAt?: number;
  author?: string;
  title?: string;
  description?: string;
  tags?: string[];
  [key: string]: any;
}
```

---

### 4.3 Theme

**路径**: `src/interfaces/Theme.ts`

```typescript
interface Theme {
  id: string;
  name: string;
  version: string;
  colors: ThemeColors;
  typography: ThemeTypography;
  spacing: ThemeSpacing;
}
```

---

## 5. 配置接口

### 5.1 SDKOptions

**路径**: `src/interfaces/SDKOptions.ts`

```typescript
interface SDKOptions {
  platform?: 'web' | 'node' | 'electron';
  dataDir?: string;
  debug?: boolean;
}
```

---

### 5.2 RenderOptions

**路径**: `src/interfaces/RenderOptions.ts`

```typescript
interface RenderOptions {
  theme?: string | Theme;
  readonly?: boolean;
  interactive?: boolean;
  animations?: boolean;
}
```

---

### 5.3 EditorOptions

**路径**: `src/interfaces/EditorOptions.ts`

```typescript
interface EditorOptions {
  placeholder?: string;
  autosave?: boolean;
  autosaveInterval?: number;
  spellcheck?: boolean;
  readonly?: boolean;
}
```

---

## 6. 回调接口

### 6.1 EventHandler

```typescript
type EventHandler = (data?: any) => void;
```

---

### 6.2 ProgressCallback

```typescript
type ProgressCallback = (progress: number, total: number) => void;
```

---

## 7. 插件接口

### 7.1 Plugin

**路径**: `src/interfaces/Plugin.ts`

```typescript
interface Plugin {
  name: string;
  version?: string;
  install(sdk: IChipsSDK): void;
  uninstall?(): void;
}
```

---

## 8. 结果接口

### 8.1 RenderResult

```typescript
interface RenderResult {
  element: HTMLElement;
  dispose: () => void;
  update?: (updates: Partial<Card>) => void;
}
```

---

### 8.2 ValidationResult

```typescript
interface ValidationResult {
  valid: boolean;
  errors: ValidationError[];
}
```

---

## 附录

### A. 接口总数

- **总接口数**: 30+
- **核心接口**: 5
- **API 接口**: 8
- **数据模型接口**: 10
- **配置接口**: 7

### B. 参考链接

- [完整文档](https://chips.dev/docs/sdk)
- [TypeScript 类型定义](https://chips.dev/docs/sdk/types)
